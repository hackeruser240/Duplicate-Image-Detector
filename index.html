<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Duplication Detector</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* slate-50 */
            color: #27272a; /* zinc-800 */
        }
        .nav-link {
            transition: color 0.2s;
        }
        .nav-link:hover {
            color: #0ea5e9; /* sky-500 */
        }
        .concept-toggle summary::-webkit-details-marker {
            display: none;
        }
        .concept-toggle summary {
            cursor: pointer;
        }
        .concept-toggle[open] summary::before {
            content: '-';
        }
        .concept-toggle:not([open]) summary::before {
            content: '+';
        }
        .tab-button.active {
            color: #0ea5e9;
            border-bottom: 2px solid #0ea5e9;
        }
        .code-tab.active {
            background-color: #f1f5f9; /* slate-100 */
            color: #1e293b; /* slate-800 */
        }
        .code-panel {
            background-color: #f1f5f9; /* slate-100 */
        }
    </style>
</head>

<body class="bg-slate-50 text-zinc-800">
    <!-- Navbar -->
    <nav class="bg-white shadow-sm sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <a href="#" class="text-2xl font-bold text-sky-500">
                <i class="fas fa-image"></i> Image Duplication Detector
            </a>
            <div class="space-x-4 hidden md:block">
                <a href="#about" class="nav-link text-gray-600 font-medium">About</a>
                <a href="#concepts" class="nav-link text-gray-600 font-medium">Concepts</a>
                <a href="#projectWorking" class="nav-link text-gray-600 font-medium">Project Working</a>
                <a href="#run" class="nav-link text-gray-600 font-medium">Run</a>
            </div>
        </div>
    </nav>

    <main class="container mx-auto px-4 py-8 space-y-12">
        <!-- About Section -->
        <section id="about" class="bg-white p-8 rounded-xl shadow-lg">
            <h2 class="text-3xl font-bold mb-4 text-sky-600">About</h2>
            <p class="mb-4 text-gray-700">
                The Image Duplication Detector is a powerful tool designed to identify duplicate or near-duplicate images within a dataset.
                It uses advanced algorithms to analyze image content, rather than just file metadata, allowing it to find identical images
                even if they have different file names, sizes, or formats. This is invaluable for data cleaning, copyright detection, and
                maintaining organized media libraries.
            </p>
            <p class="text-gray-700">
                Our approach is rooted in image hashing, a technique that converts an image's perceptual characteristics into a small,
                unique hash value. By comparing these hashes, we can quickly and efficiently determine the similarity between two images.
                This method is highly scalable and accurate, providing reliable results for large collections of images.
            </p>
        </section>

        <!-- Concepts Section -->
        <section id="concepts" class="bg-white p-8 rounded-xl shadow-lg">
            <h2 class="text-3xl font-bold mb-4 text-sky-600">Core Concepts</h2>
            <div class="space-y-6">
                <!-- Perceptual Hashing -->
                <details class="concept-toggle bg-slate-50 p-6 rounded-lg">
                    <summary class="font-semibold text-xl flex items-center justify-between">
                        <span>Perceptual Hashing</span>
                        <span class="text-2xl font-bold ml-2 transition-transform duration-200 transform"></span>
                    </summary>
                    <div class="mt-4 text-gray-700">
                        <p>
                            Perceptual hashing (pHash) is an algorithm that generates a hash value based on the content of an image. Unlike cryptographic hashes (like SHA-256), which produce a completely different hash for even a single-bit change, pHashes for similar images will have similar values. This property allows us to measure image similarity by calculating the Hamming distance between their hashes.
                        </p>
                    </div>
                </details>

                <!-- Hamming Distance -->
                <details class="concept-toggle bg-slate-50 p-6 rounded-lg">
                    <summary class="font-semibold text-xl flex items-center justify-between">
                        <span>Hamming Distance</span>
                        <span class="text-2xl font-bold ml-2 transition-transform duration-200 transform"></span>
                    </summary>
                    <div class="mt-4 text-gray-700">
                        <p>
                            The Hamming distance is a metric for comparing two binary strings of equal length. It is the number of bit positions at which the corresponding bits are different. In the context of perceptual hashing, a lower Hamming distance between two image hashes indicates a higher degree of similarity between the images. A distance of 0 means the images are identical.
                        </p>
                    </div>
                </details>

                <!-- Image Processing -->
                <details class="concept-toggle bg-slate-50 p-6 rounded-lg">
                    <summary class="font-semibold text-xl flex items-center justify-between">
                        <span>Image Processing</span>
                        <span class="text-2xl font-bold ml-2 transition-transform duration-200 transform"></span>
                    </summary>
                    <div class="mt-4 text-gray-700">
                        <p>
                            Before hashing, images undergo a series of preprocessing steps, including resizing, converting to grayscale, and reducing color space. These steps standardize the input and make the hashing process more robust to minor image alterations like scaling or color shifts.
                        </p>
                    </div>
                </details>
            </div>
        </section>

        <section id="projectWorking" class="max-w-4xl mx-auto">
            <h2 class="text-3xl font-bold text-slate-900 mb-8 text-center">How the Project Works</h2>
            <div class="grid md:grid-cols-2 gap-8 items-center bg-white p-6 md:p-12 rounded-2xl shadow-xl border border-slate-200">
                <div class="space-y-6">
                    <div class="flex items-start">
                        <div class="flex-shrink-0 w-8 h-8 rounded-full bg-sky-500 text-white flex items-center justify-center font-bold mr-4">1</div>
                        <p class="text-lg text-slate-700">The script recursively scans a target directory and finds all supported image files (JPG, PNG, GIF, BMP).</p>
                    </div>
                    <div class="flex items-start">
                        <div class="flex-shrink-0 w-8 h-8 rounded-full bg-sky-500 text-white flex items-center justify-center font-bold mr-4">2</div>
                        <p class="text-lg text-slate-700">For each image, it calculates a unique **perceptual hash** that represents its visual content, ignoring minor changes like compression or size. This is done using the `imagehash` library.</p>
                    </div>
                    <div class="flex items-start">
                        <div class="flex-shrink-0 w-8 h-8 rounded-full bg-sky-500 text-white flex items-center justify-center font-bold mr-4">3</div>
                        <p class="text-lg text-slate-700">The tool then compares the hashes of all images. If the **Hamming distance** between two hashes is below a user-defined threshold, the images are considered duplicates.</p>
                    </div>
                    <div class="flex items-start">
                        <div class="flex-shrink-0 w-8 h-8 rounded-full bg-sky-500 text-white flex items-center justify-center font-bold mr-4">4</div>
                        <p class="text-lg text-slate-700">Finally, based on the user's chosen strategy (`keep_first` or `keep_smallest`), the duplicate files are either marked for deletion (dry run) or permanently removed.</p>
                    </div>
                </div>
                <div class="relative w-full h-full min-h-[300px] flex items-center justify-center">
                    <!-- SVG Flowchart -->
                    <svg viewBox="0 0 400 300" class="w-full h-full text-slate-400">
                        <defs>
                            <marker id="arrowhead" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeight="6" orient="auto">
                                <path d="M 0 0 L 10 5 L 0 10 z" fill="currentColor"/>
                            </marker>
                        </defs>
                        <g class="transition-all duration-300 transform scale-90 md:scale-100">
                            <!-- Step 1: Scan -->
                            <rect x="100" y="10" width="200" height="60" rx="10" class="fill-sky-100 stroke-sky-400 stroke-2"/>
                            <text x="200" y="45" text-anchor="middle" class="text-sm font-semibold fill-slate-800">Scan Directory & Find Images</text>
                            <line x1="200" y1="70" x2="200" y2="110" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="flow-arrow"/>
                            
                            <!-- Step 2: Hash -->
                            <rect x="100" y="120" width="200" height="60" rx="10" class="fill-sky-100 stroke-sky-400 stroke-2"/>
                            <text x="200" y="155" text-anchor="middle" class="text-sm font-semibold fill-slate-800">Calculate Perceptual Hashes</text>
                            <line x1="200" y1="180" x2="200" y2="220" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead)" class="flow-arrow"/>
                            
                            <!-- Step 3: Compare -->
                            <rect x="100" y="230" width="200" height="60" rx="10" class="fill-sky-100 stroke-sky-400 stroke-2"/>
                            <text x="200" y="265" text-anchor="middle" class="text-sm font-semibold fill-slate-800">Compare Hashes</text>
                        </g>
                    </svg>
                </div>
            </div>
        </section>

        <!-- Run Section -->
        <section id="run" class="bg-white p-8 rounded-xl shadow-lg">
            <h2 class="text-3xl font-bold mb-4 text-sky-600">Run</h2>
            <p class="mb-4 text-gray-700">
                The Image Duplication Detector can be run in several ways, from the command line to a graphical user interface. Choose the method that best fits your workflow.
            </p>

            <!-- Run Method Tabs -->
            <div role="tablist" class="flex items-center space-x-4 border-b border-gray-200 mb-4">
                <button id="cli-tab" role="tab" aria-controls="cli-panel" class="code-tab py-2 px-4 rounded-t-lg transition-colors duration-200 font-medium">CLI</button>
                <button id="gui-tab" role="tab" aria-controls="gui-panel" class="code-tab py-2 px-4 rounded-t-lg transition-colors duration-200 font-medium">GUI</button>
                <button id="docker-tab" role="tab" aria-controls="docker-panel" class="code-tab py-2 px-4 rounded-t-lg transition-colors duration-200 font-medium">Docker</button>
                <button id="build-exe-tab" role="tab" aria-controls="build-exe-panel" class="code-tab py-2 px-4 rounded-t-lg transition-colors duration-200 font-medium">Build Executable</button>
            </div>

            <!-- Tab Panels -->
            <div class="code-panel p-6 rounded-b-lg">
                <!-- CLI Panel -->
                <div id="cli-panel" role="tabpanel" aria-labelledby="cli-tab" class="space-y-4">
                    <h3 class="text-xl font-semibold text-slate-800 mb-4">Run from the Command Line</h3>
                        <p class="text-slate-600 mb-4">
                            The `_cli.py` script provides a powerful way to run the detector with customizable arguments.
                        </p>
                        <div class="bg-slate-900 text-white p-4 rounded-lg overflow-x-auto">
                            <pre><code class="language-bash">python _cli.py "C:\path\to\your\images" --threshold 10 --strategy keep_first --dry_run no</code></pre>
                        </div>
                        <p class="mt-4 text-slate-600">
                            The arguments are:
                            <ul class="list-disc list-inside mt-2 space-y-1">
                                <li><strong>`directory`</strong>: The path to the folder to scan.</li>
                                <li><strong>`--threshold`</strong>: (Optional) The maximum Hamming distance. Default is 10.</li>
                                <li><strong>`--strategy`</strong>: (Optional) `keep_first` or `keep_smallest`. Default is `keep_first`.</li>
                                <li><strong>`--dry_run`</strong>: (Optional) `yes` or `no`. If set to `yes`, no files will be deleted. Default is `yes`.</li>
                            </ul>
                        </p>
                </div>

                <!-- GUI Panel -->
                <div id="gui-panel" role="tabpanel" aria-labelledby="gui-tab" hidden>
                     <h3 class="text-xl font-semibold text-slate-800 mb-4">Use the Graphical Interface</h3>
                        <p class="text-slate-600 mb-4">
                            The `gui.py` script provides a user-friendly Tkinter-based interface.
                        </p>
                        <div class="bg-slate-900 text-white p-4 rounded-lg overflow-x-auto">
                            <pre><code class="language-bash">python gui.py</code></pre>
                        </div>
                        <p class="mt-4 text-slate-600">
                            This will open a window where you can select a directory, set the threshold, choose a deletion strategy, and view the log output in real-time.
                        </p>
                </div>

                <!-- Docker Panel -->
                <div id="docker-panel" role="tabpanel" aria-labelledby="docker-tab" hidden>
                    <p class="mb-4 text-gray-700">
                        A Docker container image is provided for easy, portable deployment. This image encapsulates all dependencies, allowing you to run the detector consistently across different environments without worrying about setup.
                    </p>
                    <div class="bg-slate-200 p-4 rounded-md font-mono text-sm overflow-x-auto">
                        <span class="text-blue-600 font-bold"># Pull the image from the registry</span>
                        <br>
                        <span class="text-purple-600">docker pull your-docker-registry/image-duplication-detector:latest</span>
                    </div>
                    <div class="bg-slate-200 p-4 rounded-md font-mono text-sm overflow-x-auto">
                        <span class="text-blue-600 font-bold"># Run the container</span>
                        <br>
                        <span class="text-purple-600">docker run -v /path/to/your/images:/app/images your-docker-registry/image-duplication-detector:latest</span>
                    </div>
                    <p class="mt-4 text-gray-600">
                        The <code>-v</code> flag mounts your local image directory into the container's <code>/app/images</code> path, allowing the detector to access your files.
                    </p>
                </div>

                <!-- Build Executable Panel -->
                <div id="build-exe-panel" role="tabpanel" aria-labelledby="build-exe-tab" hidden>
                    <h3 class="text-xl font-semibold text-slate-800 mb-4">Building the Executable</h3>
                        <p class="text-slate-600 mb-4">
                            You can create a standalone executable for the GUI using the `build.bat` script and `PyInstaller`.
                        </p>
                        <div class="bg-slate-900 text-white p-4 rounded-lg overflow-x-auto">
                            <pre><code class="language-bash">build.bat</code></pre>
                        </div>
                        <p class="mt-4 text-slate-600">
                            This script will:
                            <ul class="list-disc list-inside mt-2 space-y-1">
                                <li>Clean up any previous build files.</li>
                                <li>Run PyInstaller with the correct parameters to create a single executable file.</li>
                            </ul>
                            This makes the application portable and easy to distribute, as the end-user doesn't need to install Python or the required libraries.
                        </p>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-slate-800 text-gray-400 py-6 mt-12">
        <div class="container mx-auto px-4 text-center">
            <p>&copy; 2025 Image Duplication Detector. All rights reserved.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Function to handle the run section tabs
            const runTabs = document.querySelectorAll('#run .code-tab');
            const runPanels = document.querySelectorAll('#run [role="tabpanel"]');

            // Set initial active run tab
            document.getElementById('cli-tab').classList.add('active');
            document.getElementById('cli-panel').removeAttribute('hidden');

            runTabs.forEach(tab => {
                tab.addEventListener('click', (e) => {
                    runTabs.forEach(t => t.classList.remove('active'));
                    e.target.classList.add('active');

                    runPanels.forEach(p => p.setAttribute('hidden', ''));
                    document.getElementById(e.target.getAttribute('aria-controls')).removeAttribute('hidden');
                });
            });
        });
    </script>
</body>
</html>
